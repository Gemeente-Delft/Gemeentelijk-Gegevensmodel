CREATE TABLE [DOCUMENT] (
    [DOCUMENT_ID] INT PRIMARY KEY,
        [COCUMENTBESCHRIJVING] VARCHAR(255),
        [DATUMCREATIEDOCUMENT] DATE,
        [DATUMONTVANGSTDOCUMENT] DATE,
        [DATUMVERZENDINGDOCUMENT] DATE,
        [DOCUMENTAUTEUR] VARCHAR(200),
        [DOCUMENTIDENTIFICATIE] VARCHAR(255),
        [DOCUMENTTITEL] VARCHAR(200),
        [VERTROUWELIJKAANDUIDING] VARCHAR(20)
);

CREATE TABLE [OMGEVINGSVERGUNNING] (
    [OMGEVINGSVERGUNNING_ID] INT PRIMARY KEY
);

CREATE TABLE [OPBREKING] (
    [OPBREKING_ID] INT PRIMARY KEY
);

CREATE TABLE [MOOR_MELDING] (
    [MOOR_MELDING_ID] INT PRIMARY KEY,
        [ADRESAANDUIDING] VARCHAR(255),
        [BETREFT_OPBREKING_ID] INT,
        [BETREFT_PROCES_VERBAAL_MOOR_MELDING_ID] INT,
        [DATUMAANMELDING] DATE,
        [DATUMGOEDKEURING] DATE,
        [EINDTIJD] DATETIME2,
        [GOEDGEKEURD] BIT,
        [HERSTELWERKZAAMHEDENVEREIST] BIT,
        [OMSCHRIJVINGHERSTELWERKZAAMHEDEN] NVARCHAR(MAX),
        [PUBLICEREN] BIT,
        [STARTTIJD] DATETIME2,
        [VERPLICHT_TOT_OMGEVINGSVERGUNNING_ID] INT,
        [WEGBEHEERDER] VARCHAR(80)
);

CREATE TABLE [PROCES_VERBAAL_MOOR_MELDING] (
    [PROCES_VERBAAL_MOOR_MELDING_ID] INT PRIMARY KEY,
        [DATUM] DATE,
        [GOEDKEURING] BIT,
        [HEEFT_DOCUMENT_ID] INT,
        [OPMERKINGEN] NVARCHAR(MAX)
);

CREATE TABLE [RECHTSPERSOON] (
    [RECHTSPERSOON_ID] INT PRIMARY KEY,
        [ADRESBINNENLAND] VARCHAR(255),
        [ADRESBUITENLAND] VARCHAR(255),
        [ADRESCORRESPONDENTIE] VARCHAR(100),
        [EMAILADRES] VARCHAR(80),
        [FAXNUMMER] VARCHAR(20),
        [IDENTIFICATIE] VARCHAR(255),
        [KVKNUMMER] VARCHAR(20),
        [NAAM] VARCHAR(200),
        [RECHTSVORM] VARCHAR(100),
        [REKENINGNUMMER] VARCHAR(255),
        [TELEFOONNUMMER] VARCHAR(20)
);

CREATE TABLE [GRONDBEHEERDER] (
    [RECHTSPERSOON_ID] INT PRIMARY KEY
);

CREATE TABLE [LEVERANCIER] (
    [RECHTSPERSOON_ID] INT PRIMARY KEY,
        [NAAM] VARCHAR(200),
        [NUMMER] VARCHAR(255)
);

CREATE TABLE [MEDEWERKER] (
    [MEDEWERKER_ID] INT PRIMARY KEY,
        [ACHTERNAAM] VARCHAR(200),
        [DATUMINDIENST] DATE,
        [DATUMUITDIENST] DATE,
        [EMAILADRES] VARCHAR(255),
        [EXTERN] VARCHAR(255),
        [FUNCTIE] VARCHAR(50),
        [GELEVERD_VIA_LEVERANCIER_ID] INT,
        [GESLACHTSAANDUIDING] VARCHAR(255),
        [MEDEWERKERIDENTIFICATIE] VARCHAR(255),
        [MEDEWERKERTOELICHTING] VARCHAR(255),
        [ROEPNAAM] VARCHAR(255),
        [TELEFOONNUMMER] VARCHAR(20),
        [VERLEENT_PROCES_VERBAAL_MOOR_MELDING_ID] INT,
        [VOORLETTERS] VARCHAR(20),
        [VOORVOEGSELACHTERNAAM] VARCHAR(255)
);

CREATE TABLE [UITVOERDER_GRAAFWERKZAAMHEDEN] (
    [RECHTSPERSOON_ID] INT PRIMARY KEY,
        [DOET_MOOR_MELDING_ID] INT,
        [MAAKT_OPBREKING_ID] INT
);

ALTER TABLE [GRONDBEHEERDER] ADD CONSTRAINT FK_GRONDBEHEERDER_GEN_RECHTSPERSOON FOREIGN KEY ([RECHTSPERSOON_ID]) REFERENCES [RECHTSPERSOON] ([RECHTSPERSOON_ID]);
-- Generalization to RECHTSPERSOON

ALTER TABLE [UITVOERDER_GRAAFWERKZAAMHEDEN] ADD CONSTRAINT FK_UITVOERDER_GRAAFWERKZAAMHEDEN_GEN_GRONDBEHEERDER FOREIGN KEY ([RECHTSPERSOON_ID]) REFERENCES [GRONDBEHEERDER] ([RECHTSPERSOON_ID]);
-- Generalization to GRONDBEHEERDER

ALTER TABLE [LEVERANCIER] ADD CONSTRAINT FK_LEVERANCIER_GEN_RECHTSPERSOON FOREIGN KEY ([RECHTSPERSOON_ID]) REFERENCES [RECHTSPERSOON] ([RECHTSPERSOON_ID]);
-- Generalization to RECHTSPERSOON

ALTER TABLE [MEDEWERKER] ADD CONSTRAINT FK_MEDEWERKER_GELEVERD_VIA FOREIGN KEY ([GELEVERD_VIA_LEVERANCIER_ID]) REFERENCES [RECHTSPERSOON] ([RECHTSPERSOON_ID]);
-- GELEVERD_VIA (0..* to 0..1, Connector_ID: 388)

ALTER TABLE [MEDEWERKER] ADD CONSTRAINT FK_MEDEWERKER_VERLEENT FOREIGN KEY ([VERLEENT_PROCES_VERBAAL_MOOR_MELDING_ID]) REFERENCES [PROCES_VERBAAL_MOOR_MELDING] ([PROCES_VERBAAL_MOOR_MELDING_ID]);
-- VERLEENT (1 to 0..*, Connector_ID: 724)

ALTER TABLE [MOOR_MELDING] ADD CONSTRAINT FK_MOOR_MELDING_BETREFT FOREIGN KEY ([BETREFT_OPBREKING_ID]) REFERENCES [OPBREKING] ([OPBREKING_ID]);
-- BETREFT (0..1 to 1, Connector_ID: 730)

ALTER TABLE [MOOR_MELDING] ADD CONSTRAINT FK_MOOR_MELDING_BETREFT_2 FOREIGN KEY ([BETREFT_PROCES_VERBAAL_MOOR_MELDING_ID]) REFERENCES [PROCES_VERBAAL_MOOR_MELDING] ([PROCES_VERBAAL_MOOR_MELDING_ID]);
-- BETREFT (1 to 0..*, Connector_ID: 731)

ALTER TABLE [MOOR_MELDING] ADD CONSTRAINT FK_MOOR_MELDING_VERPLICHT_TOT FOREIGN KEY ([VERPLICHT_TOT_OMGEVINGSVERGUNNING_ID]) REFERENCES [OMGEVINGSVERGUNNING] ([OMGEVINGSVERGUNNING_ID]);
-- VERPLICHT_TOT (0..* to 0..1, Connector_ID: 729)

ALTER TABLE [PROCES_VERBAAL_MOOR_MELDING] ADD CONSTRAINT FK_PROCES_VERBAAL_MOOR_MELDING_HEEFT FOREIGN KEY ([HEEFT_DOCUMENT_ID]) REFERENCES [DOCUMENT] ([DOCUMENT_ID]);
-- HEEFT (0..* to 0..1, Connector_ID: 725)

ALTER TABLE [UITVOERDER_GRAAFWERKZAAMHEDEN] ADD CONSTRAINT FK_UITVOERDER_GRAAFWERKZAAMHEDEN_DOET FOREIGN KEY ([DOET_MOOR_MELDING_ID]) REFERENCES [MOOR_MELDING] ([MOOR_MELDING_ID]);
-- DOET (1 to 0..*, Connector_ID: 728)

ALTER TABLE [UITVOERDER_GRAAFWERKZAAMHEDEN] ADD CONSTRAINT FK_UITVOERDER_GRAAFWERKZAAMHEDEN_MAAKT FOREIGN KEY ([MAAKT_OPBREKING_ID]) REFERENCES [OPBREKING] ([OPBREKING_ID]);
-- MAAKT (1.. to 0..*, Connector_ID: 726)

